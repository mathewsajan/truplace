import{j as e,s as S,E as k,g as C}from"./index-BFi3ExnV.js";import{r as h,u as w,d as p}from"./react-vendor-DAZAlSq7.js";import{S as E,h as A,U as R,i as I,a as $,j as f}from"./icons-CXffLe3G.js";import"./supabase-C47zntBf.js";const M=()=>{const[i,x]=h.useState(""),[o,g]=h.useState([]),[r,c]=h.useState(!1),[m,s]=h.useState(!1),n=w(),d=h.useRef(null);h.useEffect(()=>{const b=setTimeout(async()=>{if(i.trim().length<2){g([]);return}s(!0);try{const{data:v,error:j}=await S.from("company_stats").select("id, name, industry, review_count").ilike("name",`%${i}%`).order("review_count",{ascending:!1}).limit(5);if(j)throw j;g(v||[])}catch(v){console.error("Error fetching suggestions:",v),g([])}finally{s(!1)}},300);return()=>clearTimeout(b)},[i]),h.useEffect(()=>{const t=b=>{d.current&&!d.current.contains(b.target)&&c(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const a=()=>{i.trim()&&(n(`/companies?search=${encodeURIComponent(i.trim())}`),c(!1))},u=t=>{n(`/company/${t}`),c(!1),x("")},l=t=>{t.key==="Enter"&&a()},y=()=>{o.length>0&&c(!0)},N=t=>{x(t.target.value),c(!0)};return e.jsx("section",{className:"bg-gradient-to-br from-gray-50 to-blue-50 py-16 md:py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Anonymous Reviews."," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-green-500 bg-clip-text text-transparent",children:"Real Insights."})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-12 max-w-4xl mx-auto leading-relaxed",children:"Discover what it's really like to work at any company. Share your experience anonymously and help others make informed career decisions."}),e.jsx("div",{className:"max-w-2xl mx-auto",ref:d,children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"text",value:i,onChange:N,onKeyPress:l,onFocus:y,placeholder:"Search for a company (e.g. Google, Apple)",className:"w-full px-6 py-4 pr-32 text-lg border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-lg","aria-label":"Search for companies"}),e.jsxs("button",{onClick:a,className:"absolute right-2 bg-gradient-to-r from-blue-600 to-green-500 text-white px-6 py-2.5 rounded-lg font-medium hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),r&&(o.length>0||m)&&e.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[m?e.jsx("div",{className:"px-6 py-4 text-center text-gray-500",children:e.jsx("div",{className:"animate-pulse",children:"Searching..."})}):e.jsx("ul",{className:"divide-y divide-gray-100",children:o.map(t=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>u(t.id),className:"w-full px-6 py-3 text-left hover:bg-gray-50 transition-colors duration-150 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.industry})]}),e.jsxs("div",{className:"text-sm text-gray-400 flex items-center space-x-1",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.review_count," reviews"]})]})]})},t.id))}),!m&&o.length>0&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100",children:e.jsxs("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:['View all results for "',i,'"']})})]})]})}),e.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"100% Anonymous"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Verified Reviews"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{children:"Thousands of Companies"})]})]})]})})})},P=()=>{const[i,x]=p.useState(!1),o=[{number:"1",title:"Join the Platform",description:"Sign up using work email for authenticity",icon:R,color:"from-blue-500 to-blue-600"},{number:"2",title:"Verify Your Work Email",description:"Quick verification for real employees",icon:I,color:"from-green-500 to-green-600"},{number:"3",title:"Submit Your Review",description:"Share honest workplace experience anonymously",icon:$,color:"from-purple-500 to-purple-600",clickable:!0}],g=r=>{r.clickable&&x(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"py-16 md:py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Getting started is simple. Follow these three easy steps to share your workplace experience."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:o.map((r,c)=>{const m=r.icon;return e.jsxs("div",{className:`text-center group ${r.clickable?"cursor-pointer":""}`,onClick:()=>g(r),children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-full flex items-center justify-center text-white text-xl font-bold mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:r.number}),e.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-8 h-8 bg-white rounded-full border-2 border-gray-200 flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-gray-600"})})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:r.title}),e.jsx("p",{className:`text-gray-600 leading-relaxed ${r.clickable?"group-hover:text-gray-800":""}`,children:r.description}),c<o.length-1&&e.jsx("div",{className:"hidden md:block absolute top-8 left-full w-full h-px bg-gray-300 transform -translate-y-1/2"})]},c)})})]})}),e.jsx(k,{isOpen:i,onClose:()=>x(!1)})]})},L=()=>{const i=w(),[x,o]=p.useState([]),[g,r]=p.useState(!0);p.useEffect(()=>{(async()=>{try{const d=(await C()).slice(0,6).map((a,u)=>{const l=["bg-blue-600","bg-gray-800","bg-blue-500","bg-orange-500","bg-red-600","bg-red-500"];return{id:a.id,name:a.name,rating:a.overall_rating,reviews:a.review_count,color:l[u%l.length],letter:a.name.charAt(0)}});o(d)}catch(n){console.error("Error fetching companies:",n),o([{id:"1",name:"Google",rating:4.3,reviews:1247,color:"bg-blue-600",letter:"G"},{id:"2",name:"Apple",rating:4.1,reviews:892,color:"bg-gray-800",letter:"A"},{id:"3",name:"Microsoft",rating:4.2,reviews:756,color:"bg-blue-500",letter:"M"},{id:"4",name:"Amazon",rating:3.6,reviews:2156,color:"bg-orange-500",letter:"A"},{id:"5",name:"Meta",rating:3.9,reviews:642,color:"bg-red-600",letter:"M"},{id:"6",name:"Netflix",rating:4,reviews:423,color:"bg-red-500",letter:"N"}])}finally{r(!1)}})()},[]);const c=s=>{const n=Math.floor(s),d=s%1!==0,a=[];for(let l=0;l<n;l++)a.push(e.jsx(f,{className:"w-4 h-4 fill-current text-yellow-400"},l));d&&a.push(e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"w-4 h-4 text-gray-300"}),e.jsx("div",{className:"absolute top-0 left-0 w-1/2 overflow-hidden",children:e.jsx(f,{className:"w-4 h-4 fill-current text-yellow-400"})})]},"half"));const u=5-n-(d?1:0);for(let l=0;l<u;l++)a.push(e.jsx(f,{className:"w-4 h-4 text-gray-300"},`empty-${l}`));return a},m=s=>{i(`/company/${s}`)};return e.jsx("section",{className:"py-16 md:py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Popular Companies"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover what employees are saying about these top companies."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g?Array.from({length:6}).map((s,n)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/3"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded"})]})]},n)):x.map((s,n)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer group",onClick:()=>m(s.id),children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${s.color} rounded-lg flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform duration-300`,children:s.letter}),e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:s.name})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:c(s.rating)}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.rating.toFixed(1)})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.reviews.toLocaleString()," reviews"]}),e.jsx("button",{className:"w-full mt-4 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gradient-to-r hover:from-blue-600 hover:to-green-500 hover:text-white transition-all duration-300",onClick:d=>{d.stopPropagation(),m(s.id)},children:"View Reviews"})]})]},s.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-green-500 text-white px-8 py-3 rounded-lg font-medium hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Browse All Companies"})})]})})},G=()=>e.jsxs("main",{children:[e.jsx(M,{}),e.jsx(P,{}),e.jsx(L,{})]});export{G as default};
