import{j as e,E,d as F,e as w}from"./index-BFi3ExnV.js";import{i as P,u as I,r as p}from"./react-vendor-DAZAlSq7.js";import{p as T,q as D,j as y,B as _,k as H,r as M,s as O,m as z,a as U,h as W,t as Y,u as q,l as K,v as X}from"./icons-CXffLe3G.js";import{R as C,P as G,a as Q,C as V,T as R,B as J,b as Z,X as ee,Y as se,c as te}from"./charts-C5m4cSq9.js";import"./supabase-C47zntBf.js";const g=({title:n,rating:i,reviewCount:s,maxRating:c=5})=>{const d=i/c*100,o=l=>l>=3.5?"bg-green-500":l>=2.5?"bg-yellow-500":"bg-red-500",a=l=>l>=3.5?"bg-green-100":l>=2.5?"bg-yellow-100":"bg-red-100";return e.jsx("div",{className:"flex items-center justify-between py-3",children:e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:n}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:i.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s,")"]})]})]}),e.jsx("div",{className:`w-full h-2 ${a(i)} rounded-full overflow-hidden`,children:e.jsx("div",{className:`h-full ${o(i)} rounded-full transition-all duration-500 ease-out`,style:{width:`${d}%`}})})]})})},ae=({rating:n,recommendation:i,excerpt:s,role:c,period:d,pros:o=[],cons:a=[],helpfulCount:l=0})=>{const x=()=>{switch(i){case"highly-recommend":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"âœ… Highly Recommend"});case"maybe":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"ðŸ¤” Maybe"});case"not-recommended":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"âŒ Not Recommended"})}},f=m=>Array.from({length:5},(j,h)=>e.jsx(y,{className:`w-4 h-4 ${h<m?"text-yellow-400 fill-current":"text-gray-300"}`},h));return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center space-x-1",children:f(n)}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[n,".0"]})]}),x()]}),e.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed",children:['"',s,'"']}),(o.length>0||a.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(T,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Pros"})]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.map((m,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-1",children:"â€¢"}),m]},j))})]}),a.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(D,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-red-700",children:"Cons"})]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:a.map((m,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-1",children:"â€¢"}),m]},j))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:c})," â€¢ ",d]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l," found this helpful"]})]})]})},v=({title:n,value:i,subtitle:s,icon:c,trend:d,trendValue:o,color:a="blue"})=>{const l=()=>{switch(a){case"green":return"bg-green-50 text-green-600 border-green-200";case"yellow":return"bg-yellow-50 text-yellow-600 border-yellow-200";case"red":return"bg-red-50 text-red-600 border-red-200";case"gray":return"bg-gray-50 text-gray-600 border-gray-200";default:return"bg-blue-50 text-blue-600 border-blue-200"}},x=()=>d==="up"?"â†—ï¸":d==="down"?"â†˜ï¸":"â†’";return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${l()}`,children:e.jsx(c,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:n})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i}),s&&e.jsx("p",{className:"text-sm text-gray-500",children:s})]})]}),d&&o&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-lg",children:x()}),e.jsx("span",{className:`text-sm font-medium ${d==="up"?"text-green-600":d==="down"?"text-red-600":"text-gray-600"}`,children:o})]})})]})})},re=({currentCompany:n,competitors:i,industryAverage:s})=>{const c=[n,...i],d=a=>Array.from({length:5},(l,x)=>e.jsx(y,{className:`w-3 h-3 ${x<Math.floor(a)?"text-yellow-400 fill-current":"text-gray-300"}`},x)),o=a=>{const l=["bg-blue-600","bg-green-600","bg-purple-600","bg-red-600"],x=a.length%l.length;return e.jsx("div",{className:`w-8 h-8 ${l[x]} rounded-lg flex items-center justify-center text-white font-bold text-sm`,children:a.charAt(0)})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(_,{className:"w-5 h-5 mr-2"}),"Industry Comparison"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"See how this company compares to similar organizations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviews"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recommend Rate"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[c.map((a,l)=>e.jsxs("tr",{className:l===0?"bg-blue-50":"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[o(a.name),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name}),l===0&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Current"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:a.industry})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:d(a.rating)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.rating.toFixed(1)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.reviewCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a.recommendationRate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900",children:[a.recommendationRate,"%"]})]})})]},a.id)),e.jsxs("tr",{className:"bg-yellow-50 border-t-2 border-yellow-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:"ðŸ“Š"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Industry Average"}),e.jsx("div",{className:"text-sm text-gray-500",children:n.industry})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:d(s.rating)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.rating.toFixed(1)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${s.recommendationRate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.recommendationRate,"%"]})]})})]})]})]})})]})},ne=({filters:n,onFilterChange:i,reviewCount:s})=>e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.rating,onChange:c=>i("rating",c.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"1",children:"1+ Stars"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.timePeriod,onChange:c=>i("timePeriod",c.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"2years",children:"Last 2 Years"})]})]}),e.jsxs("select",{value:n.recommendation,onChange:c=>i("recommendation",c.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Recommendations"}),e.jsx("option",{value:"highly-recommend",children:"Highly Recommend"}),e.jsx("option",{value:"maybe",children:"Maybe"}),e.jsx("option",{value:"not-recommended",children:"Not Recommended"})]})]}),e.jsxs("div",{className:"flex items-center justify-between lg:justify-end space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[s," reviews"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.sortBy,onChange:c=>i("sortBy",c.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"rating-high",children:"Highest Rated"}),e.jsx("option",{value:"rating-low",children:"Lowest Rated"}),e.jsx("option",{value:"helpful",children:"Most Helpful"})]})]})]})]})}),me=()=>{const{companyId:n}=P(),i=I(),[s,c]=p.useState(null),[d,o]=p.useState(!0),[a,l]=p.useState(null),[x,f]=p.useState(!1),[m,j]=p.useState([]),[h,b]=p.useState({rating:"",timePeriod:"",recommendation:"",sortBy:"recent"});p.useEffect(()=>{(async()=>{o(!0);try{if(!n){l("Company not found");return}const r=await F(n);c(r);const u=await w(n,{limit:10});j(u)}catch(r){console.error("Error fetching company:",r),l("Company not found")}finally{o(!1)}})()},[n]),p.useEffect(()=>{if(!s)return;(async()=>{try{const r={};h.rating&&(r.rating=parseInt(h.rating)),h.recommendation&&(r.recommendation=h.recommendation),r.sortBy=h.sortBy,r.limit=20;const u=await w(s.id,r);j(u)}catch(r){console.error("Error fetching filtered reviews:",r)}})()},[h,s]);const B=(t,r)=>{b(u=>({...u,[t]:r}))};if(d)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-8"}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm mb-8",children:[e.jsx("div",{className:"h-12 bg-gray-300 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]},t))})]})})});if(a||!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:a||"Company not found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The company you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>i("/"),className:"bg-gradient-to-r from-blue-600 to-green-500 text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Back to Home"})]})})});const S=t=>Array.from({length:5},(r,u)=>e.jsx(y,{className:`w-5 h-5 ${u<Math.floor(t)?"text-yellow-400 fill-current":"text-gray-300"}`},u)),k=t=>{const r=["bg-blue-600","bg-green-600","bg-purple-600","bg-red-600"],u=t.length%r.length;return e.jsx("div",{className:`w-16 h-16 ${r[u]} rounded-xl flex items-center justify-center text-white font-bold text-2xl`,children:t.charAt(0)})},N=[{name:"Highly Recommend",value:Math.round(s.recommendation_rate*.7),color:"#10b981"},{name:"Maybe",value:Math.round(s.recommendation_rate*.2),color:"#f59e0b"},{name:"Not Recommended",value:Math.round(100-s.recommendation_rate),color:"#ef4444"}],A=[{rating:"5â˜…",count:Math.round(s.review_count*.35)},{rating:"4â˜…",count:Math.round(s.review_count*.28)},{rating:"3â˜…",count:Math.round(s.review_count*.22)},{rating:"2â˜…",count:Math.round(s.review_count*.1)},{rating:"1â˜…",count:Math.round(s.review_count*.05)}],L=[{id:"comp1",name:"Microsoft",rating:4.2,reviewCount:856,recommendationRate:78,industry:s.industry},{id:"comp2",name:"Meta",rating:3.9,reviewCount:642,recommendationRate:71,industry:s.industry},{id:"comp3",name:"Netflix",rating:4,reviewCount:423,recommendationRate:74,industry:s.industry}],$={rating:3.8,recommendationRate:73};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>i("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors duration-200 mb-6",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Home"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-6 mb-6 lg:mb-0",children:[k(s.name),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:s.industry})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s.size})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Updated ",new Date(s.updated_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:S(s.overall_rating)}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:s.overall_rating.toFixed(1)})]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:s.review_count.toLocaleString()})," reviews"]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsxs("span",{className:"font-medium text-green-600",children:[s.recommendation_rate,"%"]})," recommend"]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-600 to-green-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Write a Review"})]}),s.overall_rating>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(W,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Active reviews"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(v,{title:"Overall Rating",value:s.overall_rating.toFixed(1),subtitle:"out of 5.0",icon:y,color:"blue"}),e.jsx(v,{title:"Total Reviews",value:s.review_count.toLocaleString(),subtitle:"employee reviews",icon:Y,color:"green"}),e.jsx(v,{title:"Recommend Rate",value:`${s.recommendation_rate}%`,subtitle:"would recommend",icon:q,color:s.recommendation_rate>=80?"green":s.recommendation_rate>=60?"yellow":"red"}),e.jsx(v,{title:"Company Size",value:s.size.split(" ")[0],subtitle:"employees",icon:K,color:"gray"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),"Rating Breakdown"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(g,{title:"Compensation & Benefits",rating:s.dimensions.compensation,reviewCount:Math.round(s.review_count*.8)}),e.jsx(g,{title:"Management Quality",rating:s.dimensions.management,reviewCount:Math.round(s.review_count*.7)}),e.jsx(g,{title:"Culture, Values & Inclusion",rating:s.dimensions.culture,reviewCount:Math.round(s.review_count*.9)}),e.jsx(g,{title:"Career Opportunities & Development",rating:s.dimensions.career,reviewCount:Math.round(s.review_count*.6)}),e.jsx(g,{title:"Recognition & Appreciation",rating:s.dimensions.recognition,reviewCount:Math.round(s.review_count*.5)}),e.jsx(g,{title:"Working Environment",rating:s.dimensions.environment,reviewCount:Math.round(s.review_count*.8)}),e.jsx(g,{title:"Work-Life Balance",rating:s.dimensions.worklife,reviewCount:Math.round(s.review_count*.9)}),e.jsx(g,{title:"Cooperation & Relationships",rating:s.dimensions.cooperation,reviewCount:Math.round(s.review_count*.7)}),e.jsx(g,{title:"Business Health & Outlook",rating:s.dimensions.business_health,reviewCount:Math.round(s.review_count*.6)})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recommendation Breakdown"}),e.jsx("div",{className:"h-48",children:e.jsx(C,{width:"100%",height:"100%",children:e.jsxs(G,{children:[e.jsx(Q,{data:N,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:N.map((t,r)=>e.jsx(V,{fill:t.color},`cell-${r}`))}),e.jsx(R,{formatter:t=>`${t}%`})]})})}),e.jsx("div",{className:"space-y-2 mt-4",children:N.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-700",children:t.name})]}),e.jsxs("span",{className:"font-medium",children:[t.value,"%"]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rating Distribution"}),e.jsx("div",{className:"h-48",children:e.jsx(C,{width:"100%",height:"100%",children:e.jsxs(J,{data:A,layout:"horizontal",children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(ee,{type:"number"}),e.jsx(se,{dataKey:"rating",type:"category",width:30}),e.jsx(R,{}),e.jsx(te,{dataKey:"count",fill:"#3b82f6"})]})})})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Employee Reviews"})}),e.jsx(ne,{filters:h,onFilterChange:B,reviewCount:m.length}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:m.map(t=>e.jsx(ae,{rating:t.overall_rating,recommendation:t.recommendation,excerpt:t.advice||"No additional comments provided.",role:t.role||"Anonymous Employee",period:t.period,pros:t.pros,cons:t.cons,helpfulCount:t.helpful_count},t.id))}),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:"No reviews match your current filters."}),e.jsx("button",{onClick:()=>b({rating:"",timePeriod:"",recommendation:"",sortBy:"recent"}),className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})]}),m.length>0&&m.length<s.review_count&&e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors duration-200",children:"Load More Reviews"})})]}),e.jsx(re,{currentCompany:{id:s.id,name:s.name,rating:s.overall_rating,reviewCount:s.review_count,recommendationRate:s.recommendation_rate,industry:s.industry},competitors:L,industryAverage:$})]})}),e.jsx(E,{isOpen:x,onClose:()=>f(!1)})]})};export{me as default};
